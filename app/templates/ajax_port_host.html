{% block content %}

<script src="{{ url_for('static', filename='js/datatable.js') }}"></script>

<div class="form-group row">
  <div class="col-md-11" style="font-size:25px">
    {{ location }}: Port Status {{ host }}
  </div>
  <div class="col-md-1"><div class="pull-right">
    <a href="{{ url_for('port_host', host=host) }}"><button class="btn btn-primary" align="left"><span class="glyphicon glyphicon-refresh "aria-hidden="true"></span></button></a>
  </div>
</div>
</div>
    <table id=mytable class="table table-hover table-bordered table-responsive">
      <thead>
        <tr>
          <th>Port</th>
          <th>Name {{ host }}</th>
          <th>Speed</th>
          <th>Duplex</th>
          <th>State</th>
          <th>Info</th>
        </tr>
      </thead>
      <tbody class="searchable">
      {% for item in iface_status %}
      {% set iface =  item['interface'] %}
        <tr>
          <td> {{ iface }} </td>
          <td> {{ item['name'] }} </td>
          <td> {{ item['speed'] }} </td>
          <td> {{ item['duplex'] }} </td>
          {% if item['state'] == 'connected' %}
          <td><span class="glyphicon glyphicon-ok-sign" style="color:green" aria-hidden="true" title="connected"></span></td>
          {% elif item['state'] == 'notconnect' or item['state'] == 'down' %}
          <td><span class="glyphicon glyphicon-remove-sign" style="color:red" aria-hidden="true" title="down"></span></td>
          {% elif item['state'] == 'sfpAbsent' or item['state'] == 'xcvrAbsent' %}
          <td><span class="glyphicon glyphicon glyphicon-minus-sign" style="color:orange" aria-hidden="true" title="absent"></span></td>
          {% elif item['state'] == 'sfpInvalid' %}
          <td><span class="glyphicon glyphicon glyphicon-question-sign" style="color:orange" aria-hidden="true" title="sfpInvalid"></span></td>
          {% elif item['state'] == 'inactive' %}
          <td><span class="glyphicon glyphicon glyphicon-question-sign" style="color:orange" aria-hidden="true" title="inactive"></span></td>
          {% elif item['state'] == 'noOperMembers' %}
          <td><span class="glyphicon glyphicon glyphicon-question-sign" style="color:orange" aria-hidden="true" title="noOperMembers"></span></td>
          {% elif item['state'] == 'disabled' %}
          <td><span class="glyphicon glyphicon glyphicon-question-sign" style="color:orange" aria-hidden="true" title="disabled"></span></td>
          {% elif item['state'] == 'suspnd' %}
          <td><span class="glyphicon glyphicon glyphicon-question-sign" style="color:orange" aria-hidden="true" title="suspnd"></span></td>
          {% elif 'unknown enum' in item['state'] %}
          <td><span class="glyphicon glyphicon glyphicon-question-sign" style="color:orange" aria-hidden="true" title="unknown enum"></span></td>
          {% else %}
          <td><span style="color:red">{{ item['state'] }}</span></td>
          {% endif %}
           <td class="text-nowrap">
          {% if item['vlan1'] != 'routed' %}
          <a href="{{ url_for('ifsw', iface=iface, host=host) }}"><button class="btn btn-black btn-xs" title="switchport">S</button></a>
          {% else %}
          <button class="btn btn-black btn-xs" title="routed port">R</button>
          {% endif %}
          <a href="{{ url_for('iferr', iface=iface, host=host) }}"><button class="btn btn-black btn-xs" title="errors">e</button></a></td>
          {% endfor %}
      </tbody>
    </table>
</div>

{% endblock %}
